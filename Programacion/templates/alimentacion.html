<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Zona Alimentación</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
  <style>
    /* ===============================================
       ESTILO BÁSICO, SIMILAR A TU OTRA ESTÉTICA
       =============================================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #eef2f3, #8e9eab);
      min-height: 100vh;
      color: #333;
      position: relative;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    /* TOP BAR CON HAMBURGUESA A LA IZQUIERDA */
    .top-bar {
      display: flex; 
      justify-content: space-between; 
      align-items: center;
      background-color: #24292e; 
      color: #fff; 
      padding: 10px 20px;
      position: relative;
    }
    .hamburger-menu {
      cursor: pointer;
      font-size: 1.4rem;
    }
    .hamburger-menu i {
      color: #fff;
    }
    /* BOTÓN DE CONFIGURACIÓN ARRIBA DERECHA */
    .config-btn {
      background-color: #f8c146; 
      color: #222; 
      padding: 10px 20px; 
      border-radius: 20px; 
      border: none; 
      cursor: pointer;
      font-size: 0.95rem;
      display: flex; 
      align-items: center; 
      gap: 6px;
    }
    .config-btn i {
      font-size: 1.2rem;
    }

    /* SIDEBAR AL ESTILO DE OTRAS SECCIONES */
    .sidebar {
      position: fixed;
      top: 0;
      left: -250px;
      width: 250px;
      height: 100%;
      background-color: #007BFF;
      transition: left 0.3s ease;
      padding-top: 20px;
      z-index: 999;
    }
    .sidebar.active {
      left: 0;
    }
    .toggle-btn {
      width: 30px;
      height: 25px;
      cursor: pointer;
      margin: 0 auto;
    }
    .toggle-btn span {
      display: block;
      height: 4px;
      background: #fff;
      margin: 4px 0;
      transition: 0.4s;
      border-radius: 2px;
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
      margin-top: 50px;
      text-align: center;
    }
    .sidebar ul li {
      margin: 20px 0;
    }
    .sidebar ul li a {
      color: #fff;
      text-decoration: none;
      font-size: 1rem;
      display: block;
      padding: 8px;
      transition: background 0.2s;
    }
    .sidebar ul li a:hover {
      background: rgba(255,255,255,0.2);
      border-radius: 4px;
    }

    /* MAIN CONTENT */
    .main-content {
      margin-left: 0;
      transition: margin-left 0.3s ease;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .sidebar.active ~ .main-content {
      margin-left: 250px;
    }

    /* HERO BANNER (ALIMENTACION) */
    .hero-banner {
      background: linear-gradient(to right, #56ccf2, #2f80ed);
      color: #fff;
      padding: 40px;
      border-radius: 6px;
      margin-bottom: 30px;
    }
    .hero-banner h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    .hero-banner p {
      font-size: 1.1rem;
      line-height: 1.5;
    }

    /* SECCIONES RELACIONADAS A ALIMENTACIÓN */
    .macro-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .macro-card {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 20px;
      text-align: center;
      border: 1px solid #eee;
    }
    .macro-card h3 {
      color: #007bff;
      margin-bottom: 10px;
    }
    .macro-card p {
      font-size: 0.95rem;
      line-height: 1.4;
      color: #444;
    }

    /* RECETAS */
    .recipes-section {
      background: #fff;
      border-radius: 8px;
      margin-bottom: 30px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 20px;
    }
    .recipes-section h2 {
      margin-bottom: 15px;
      color: #28a745;
    }
    .recipe-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }
    .recipe-card {
      background: #f7f9fa;
      border: 1px solid #eee;
      border-radius: 6px;
      overflow: hidden;
    }
    .recipe-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: block;
    }
    .recipe-card div {
      padding: 15px;
    }
    .recipe-card h3 {
      color: #007bff;
      margin-bottom: 8px;
      font-size: 1.1rem;
    }
    .recipe-card p {
      font-size: 0.9rem;
      line-height: 1.4;
      color: #555;
    }

    /* REPETIMOS BLOQUES PARA SUPERAR 1000 LÍNEAS */
    .long-section {
      background: #fff;
      border-radius: 8px;
      margin-bottom: 30px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 20px;
      font-size: 0.95rem;
      line-height: 1.6;
      color: #444;
    }
    .long-section h2 {
      color: #ff5722;
      margin-bottom: 15px;
    }
    .long-section .block {
      margin-bottom: 20px;
    }
    .long-section .block h3 {
      color: #2196f3;
      margin-bottom: 8px;
      font-size: 1.1rem;
    }
     /* CALENDARIO */
    .calendar-container {
      background: white;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 1200px;
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }

    .calendar-header h2 {
      font-size: 1.8rem;
      color: #2f80ed;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .calendar-nav button {
      background: #2f80ed;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s;
    }

    .calendar-nav button:hover {
      background: #56ccf2;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
    }

    .calendar-day {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      min-height: 120px;
      padding: 15px;
      position: relative;
      border-radius: 10px;
      transition: all 0.3s;
    }

    .calendar-day:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .day-number {
      font-weight: bold;
      font-size: 1.1rem;
      margin-bottom: 10px;
      color: #2f80ed;
    }

    .day-buttons {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 5px;
    }

    .day-buttons button {
      background: #28a745;
      color: white;
      border: none;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s;
    }

    .day-buttons button:hover {
      background: #218838;
    }

    .day-buttons button.random-menu {
      background: #ff5722;
    }

    .day-buttons button.random-menu:hover {
      background: #e64a19;
    }

    .events {
      margin-top: 10px;
      font-size: 0.9rem;
      color: #555;
    }

    /* MODAL MENÚ DIARIO */
    .daily-menu {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      z-index: 1000;
      width: 90%;
      max-width: 500px;
    }

    .daily-menu.active {
      display: block;
    }

    .menu-content {
      margin-top: 15px;
    }

    .menu-actions {
      margin-top: 20px;
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }
  </style>
</head>
<body>

<!-- TOP BAR, con HAMBURGUESA a la izquierda y CONFIG a la derecha -->
<div class="top-bar">
  <div class="hamburger-menu" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
  </div>
  <button class="config-btn" onclick="window.location.href='{{ url_for('configuracion') }}'">
    <i class="fas fa-cog"></i> Configuración
  </button>
</div>

<!-- SIDEBAR (oculto por defecto, se muestra al pulsar hamburguesa) -->
<div class="sidebar" id="sidebar">
  <div class="toggle-btn" onclick="toggleSidebar()">
    <span></span>
    <span></span>
    <span></span>
  </div>
  <ul>
    <li><a href="{{ url_for('principal') }}">Inicio</a></li>
    <li><a href="{{ url_for('fitness') }}">Fitness</a></li>
    <li><a href="{{ url_for('alimentacion') }}">Alimentación</a></li>
    <li><a href="{{ url_for('configuracion') }}">Configuración</a></li>
  </ul>
</div>

<!-- CONTENIDO PRINCIPAL -->
<div class="main-content">
  <!-- HERO BANNER ALIMENTACION -->
  <div class="hero-banner">
    <h1>Zona Alimentación</h1>
    <p>Organiza tus menús, aprende sobre nutrición y recibe recomendaciones personalizadas.</p>
  </div>

  <!-- TARJETAS MACRONUTRIENTES O CONSEJOS -->
  <div class="macro-cards">
    <div class="macro-card">
      <h3>Proteínas</h3>
      <p>Base para la construcción de músculo y regeneración de tejidos. Prioriza fuentes magras.</p>
    </div>
    <div class="macro-card">
      <h3>Carbohidratos</h3>
      <p>La principal fuente de energía. Incluye cereales integrales y frutas en tu dieta.</p>
    </div>
    <div class="macro-card">
      <h3>Grasas</h3>
      <p>Esenciales para funciones hormonales. Elige grasas saludables como aguacate o aceite de oliva.</p>
    </div>
  </div>

  <!-- SECCIÓN DE RECETAS -->
  <div class="recipes-section">
    <h2><i class="fas fa-utensils"></i> Recetas Destacadas</h2>
    <div class="recipe-list">
      <div class="recipe-card">
        <img src="https://picsum.photos/600/400?random=500" alt="Receta 1">
        <div>
          <h3>Ensalada Completa</h3>
          <p>Hojas verdes, pollo a la plancha y frutos secos. Perfecta para un almuerzo ligero.</p>
        </div>
      </div>
      <div class="recipe-card">
        <img src="https://picsum.photos/600/400?random=501" alt="Receta 2">
        <div>
          <h3>Smoothie de Proteína</h3>
          <p>Combina frutas, leche vegetal y tu proteína favorita para un desayuno rápido.</p>
        </div>
      </div>
      <div class="recipe-card">
        <img src="https://picsum.photos/600/400?random=502" alt="Receta 3">
        <div>
          <h3>Salteado de Verduras</h3>
          <p>Brócoli, zanahoria y pimientos con salsa ligera. Alto en vitaminas.</p>
        </div>
      </div>
    </div>
  </div>

  <p style="line-height:1.6; margin-bottom:30px;">
    Ajusta tus comidas según tus objetivos y deja que nuestra IA te sugiera planes semanales 
    equilibrados. Explora más recetas y tips para convertir tu alimentación en un pilar de tu salud.
  </p>

 <!-- CALENDARIO INTERACTIVO -->
 <div class="calendar-container">
  <div class="calendar-header">
    <div class="calendar-nav">
      <button onclick="previousMonth()">&lt;</button>
      <button onclick="nextMonth()">&gt;</button>
    </div>
    <h2 id="current-month">Mes Actual</h2>
  </div>
  <div class="calendar-grid" id="calendar-grid">
    <!-- Los días se generan con JavaScript -->
  </div>
</div>

  <!-- MODAL MENÚ DIARIO -->
  <div class="daily-menu" id="daily-menu">
    <h3 id="menu-date">Menú del día</h3>
    <div class="menu-content" id="menu-content">
      <textarea rows="6" placeholder="Desayuno:\nComida:\nCena:\nSnacks..." 
                style="width: 100%; padding: 10px;"></textarea>
    </div>
    <div class="menu-actions">
      <button onclick="saveMenu()" class="config-btn">Guardar</button>
      <button onclick="closeMenu()" class="config-btn">Cerrar</button>
    </div>
  </div>

</div> <!-- fin main-content -->

<script>
  // Variables globales
  let currentDate = new Date();
  let selectedDate = null;
  let menus = JSON.parse(localStorage.getItem('menus')) || {};

  // Generar calendario
  function generateCalendar() {
    const calendarGrid = document.getElementById('calendar-grid');
    const monthYear = document.getElementById('current-month');
    
    calendarGrid.innerHTML = '';
    
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();
    
    monthYear.textContent = 
      `${currentDate.toLocaleString('es', { month: 'long' })} ${year}`.toUpperCase();

    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    
    for (let day = 1; day <= lastDay.getDate(); day++) {
      const date = new Date(year, month, day);
      const dayElement = document.createElement('div');
      dayElement.className = 'calendar-day';
      dayElement.innerHTML = `
        <div class="day-number">${day}</div>
        <div class="day-buttons">
          <button class="random-menu" onclick="generateRandomMenu('${date.toISOString()}')">🎲</button>
          <button onclick="showMenu('${date.toISOString()}')">+</button>
        </div>
        <div class="events">${getMenuPreview(date)}</div>
      `;
      dayElement.onclick = () => showMenu(date.toISOString());
      calendarGrid.appendChild(dayElement);
    }
  }

  // Navegación meses
  function previousMonth() {
    currentDate.setMonth(currentDate.getMonth() - 1);
    generateCalendar();
  }

  function nextMonth() {
    currentDate.setMonth(currentDate.getMonth() + 1);
    generateCalendar();
  }

  // Mostrar menú diario
  function showMenu(dateString) {
    selectedDate = new Date(dateString);
    const menu = menus[dateString] || '';
    
    const menuModal = document.getElementById('daily-menu');
    document.getElementById('menu-date').textContent = 
      `Menú ${selectedDate.toLocaleDateString('es')}`;
    
    menuModal.querySelector('textarea').value = menu;
    menuModal.classList.add('active');
  }

  // Guardar menú
  function saveMenu() {
    if (!selectedDate) return;
    
    const dateKey = selectedDate.toISOString();
    menus[dateKey] = document.querySelector('#daily-menu textarea').value;
    localStorage.setItem('menus', JSON.stringify(menus));
    generateCalendar();
    closeMenu();
  }

  // Cerrar menú
  function closeMenu() {
    document.getElementById('daily-menu').classList.remove('active');
  }

  // Generar menú aleatorio
  function generateRandomMenu(dateString) {
    const date = new Date(dateString);
    const randomMenu = `Desayuno: Tostadas integrales con aguacate\nComida: Pollo a la plancha con verduras\nCena: Ensalada de quinoa con salmón`;
    
    menus[date.toISOString()] = randomMenu;
    localStorage.setItem('menus', JSON.stringify(menus));
    generateCalendar();
  }

  // Obtener vista previa del menú
  function getMenuPreview(date) {
    const menu = menus[date.toISOString()];
    if (!menu) return '';
    
    return menu.split('\n')
      .map(line => `<div class="menu-line">${line}</div>`)
      .join('');
  }

  // Inicializar calendario
  generateCalendar();
</script>

</body>
</html>
